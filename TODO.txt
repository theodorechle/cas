Set doubles instead of floats

Modify functions like sortTree and areSameNodes to allow any number of childs

Refactor parser
